---
title: Djangoçš„å»ºç«™çš„(ï½¡ï½¥âˆ€ï½¥)ï¾‰ï¾
date: 2018-06-07 16:30:18
modified: 2018-05-28 17:30
category: [python,web]
tags: [django, missjava, vue, apache, ajax]
slug: notesDjango
---
author: Ian

# Django çš„ä¸€äº›ä¸œè¥¿
##### æ‘’å¼ƒ`java`åçš„'æ¬¢ä¹'?æ—¶å…‰?

## Django çš„å‰ç«¯ç›¸å…³
[^_^]è™½ç„¶æˆ‘å‰ç«¯ä¸ç”¨è¿™ä¸ªå§ï¼Œä½†å°±ä¸€è®°å½•ã€‚å±Šæ—¶ä¼°è®¡è¿˜æ˜¯å›æ¥ç¿»Djangoå®˜æ–¹æ–‡æ¡£çš„ã€‚

æ‘˜ä¸€ä¸ªçœ‹ä¸€ä¸ªç‰›é€¼å“„å“„çš„ä¸œè¥¿:
#### Removing hardcoded URLs in templatesÂ¶
Remember, when we wrote the link to a question in the polls/index.html template, the link was partially hardcoded like this
```
<li><a href="/polls/{{ question.id }}/">{{ question.question_text }}</a></li>
```
The problem with this hardcoded, tightly-coupled approach is that it becomes challenging to change URLs on projects with a lot of templates. However, since you defined the name argument in the path() functions in the polls. urls module, you can remove a reliance on speciific URL paths defined in your url configurations by using the {% url %} template tag:
```
<li><a href="{% url 'detail' question.id %}">{{ question.question_text }}</a></li>
```

### ç‰ˆæœ¬
å…¶ä¸­ï¼Œå¾ˆä»¤äººå¤´ç–¼çš„ä¾¿æ˜¯ç‰ˆæœ¬ã€‚ å¦‚æœé‡åˆ°ä»€ä¹ˆè«åå…¶å¦™çš„é”™ï¼Œè¯·æŸ¥çœ‹æ˜¯å¦æ˜¯ç‰ˆæœ¬çš„åŸå› ã€‚
è¿™é‡Œçš„ç‰ˆæœ¬åŸå› å¹¶ä¸â˜ä¸€äº›äººè¯´çš„åº“ä¾èµ–ä¸¥é‡ï¼Œå¥½åƒå¼€å‘è€…ç‰ˆæœ¬æ›´è¿­ä¸è€ƒè™‘å…¼å®¹â€”â€”æˆ–è€…è¯´å±…ç„¶å‹¤å¥‹çš„æ¥å£é‡æ¢é‚£èˆ¬ä¸¥é‡ã€‚
æ­¤å¤„ä»…ä»…â˜åœ¨è¿è¡Œæ–°ç‰ˆæœ¬æ—¶å¦ä¸ªæ–¹æ³•æ—¶ï¼Œæˆ–è®¸ä¼šè«åå…¶å¦™å¼•å‘ä¸€ä¸ªæ—©å·²æ‘’å¼ƒçš„å‡½æ•°é”™è¯¯ã€‚è¿™æ—¶å€™å°±å¯èƒ½æ˜¯åœ¨æŠ˜è…¾ç‰ˆæœ¬æ˜¯å¯¼è‡´æœ‰çš„ä¸åŒç‰ˆæœ¬æœ‰æ–‡ä»¶æ®‹ç•™ã€‚åœ¨è¿è¡Œæ—¶è«åå…¶å¦™çš„è¢«`import`äº†ç„¶åå®ƒæœ‰è°ƒå–å…¶ä»–ä¸œè¥¿ï¼Œä½†æ˜¯æ‰¾ä¸åˆ°çš„â€¦  

è¿™æ—¶å€™è½»åˆ™`pip uninstall` é‡åˆ™ç¯å¢ƒé‡å»ºã€‚æ‰€ä»¥å¯è§è™šæ‹Ÿç¯å¢ƒè¿˜æ˜¯æŒºæœ‰ç”¨çš„å˜›â€”â€”

### MVC
å…¨åï¼š `Model` ã€`View`ã€`Controller`ã€‚æ¨¡å‹ï¼Œè§†å›¾ï¼Œæ§åˆ¶å™¨è¿™ç§åŠŸèƒ½åˆ†ç¦»çš„è½¯ä»¶è®¾è®¡è§„èŒƒã€‚æ‰€ä»¥å®ƒæ˜¯é€šç”¨çš„â€¦ä¸è¦å’Œçˆªå“‡æ†ç»‘ï¼Œæå¾—å’ŒæŸä¸ªç¥å¥‡æŠ€æœ¯ä¸€èˆ¬â€¦   (âŠ™ï¹âŠ™)

---

## ç®€ä»‹
åœ¨å®‰è£…ä¹‹åï¼Œä½¿ç”¨`django-admin startproject `+åå­—æ¥åˆå§‹åŒ–ä¸€ä¸ªå·¥ç¨‹ã€‚   å¯¹æ¯”åˆ°`python`ä¸­å°±æ˜¯åˆ›å»ºå¥½äº†æ–‡æ¡£ç›®å½•ï¼Œè¿˜åœ¨æ–‡ä»¶ä¸­å†™å…¥ç›¸å…³æ¡†æ¶ä»£ç ï¼Œä»¥æ­¤æ”¯æŒè¿è¡Œã€‚

### è¯•ä¸€ä¸‹?
`python manage.py runserver`
ä¾¿å¯å¼€å¯æœåŠ¡å™¨ï¼Œè¿™æ—¶å€™è®¿é—®ç›¸åº”ç«¯å£ï¼Œå°±ä¸€ä¸ªæ¬¢è¿ç•Œé¢ï¼Œæç¤ºå—¯~ o(*ï¿£â–½ï¿£*)oï¼Œä½ èƒ½å¼€è·‘äº†ã€‚
#### å†è¯•ä¸€ä¸‹ï¼Ÿ
åœ¨11ç‰ˆæœ¬ä¸­æœ‰`\admin`åœ°å€å¯ä»¥è®¿é—®ï¼Œè®¿é—®ä¹‹åä¾¿æ˜¯ä¸€ä¸ªç™»é™†ç•Œé¢.<font color=#ef0000>ä½†</font>,å¹¶ä¸çŸ¥é“ç”¨æˆ·åå’Œå¯†ç å•Š~   emmâ€¦ ä¸è¿‡å¥½å¤„æ˜¯èƒ½çœ‹åˆ°è¿™ä¸ªé¡µé¢è‡³å°‘ä¿è¯äº†`django`åœ¨`render`ä¸€ä¸ª`.html`é¡µé¢æ—¶æ˜¯æ­£å¸¸çš„ã€‚è€Œä¹‹å‰è¯´çš„<font color=#9e0000>è€ç‰ˆæœ¬æ®‹ç•™</font>å°±ä¼šå¯¼è‡´`render`æ—¶å‡ºé”™ã€‚

### ç»“æ„
æ ¹ç›®å½•ä¸‹ï¼Œ'é¡¹ç›®åæ–‡ä»¶'æ˜¯é¡¹ç›®å®¹å™¨ğŸ˜°
`manage.py` å‘½ä»¤è¡Œå·¥å…·ï¼Œemm ç±»ä¼¼äº`python clickåº“`çš„å‘½ä»¤è¡Œç¨‹åºï¼Œä½¿ç”¨å‚æ•°å¹²ä¸åŒçš„äº‹æƒ…ã€‚
è¿›å…¥åˆ°é¡¹ç›®å®¹å™¨ä¸­ï¼Œå…¶ä¸­`settings.py`é¡¾åæ€ä¹‰
`urls.py`åŒä¸Šï¼Œç®¡ç†å„ä¸ª`url`é€šå¾€å“ªé‡Œ
`wsgl.py`æŸä¸ªå…¼å®¹å•¥ï¼Œç°åœ¨ä¸ç”¨ç®¡â€¦

### å¾—çŸ¥ç»“æ„ä¹‹å
ç„¶åå°±èƒ½
1. åœ¨`urls.py`é‡Œæ„‰å¿«çš„æ·»åŠ å„ä¸ªåŠŸèƒ½urlã€‚è¿™é‡Œé¢å°±ä¸€ä¸ªurlpatternsåˆ—è¡¨ï¼Œä½¿ç”¨`djangol.conf.urls.url`æ–¹æ³•æ¥é…ç½®ã€‚
ä¸è¿‡å…¶å¯¹åº”çš„æ‰§è¡Œå‡½æ•°éƒ½éœ€è¦ä¸€ä¸ª`request`æ¥æ¥å—è¯·æ±‚æ•°æ®ã€‚ `return`å›ä¸€ä¸ªé¡µé¢~ ç°åœ¨ç”¨åˆ°çš„æœ‰`django,shortcuts.render åŠ render_to_response`å‡ºæ¥çš„ï¼Œä»¥åŠ`django.http.HttpResponse`å‡ºæ¥çš„ä¸œè¥¿ã€‚

2. å—¯â€¦â€¦ `ulr` é“¾æ¥çš„æ‰§è¡Œæ–¹æ³•è¯¦æƒ…å°±æ”¾åœ¨æ–°åˆ›å»ºçš„`view.py`ä¸­ç®¡ç†ã€‚

3. è€Œåœ¨`view`ä¸­éœ€è¦æ¸²æŸ“çš„htmlæ–‡ä»¶åˆ™æ”¾ç½®åœ¨æ ¹ç›®å½•æ–°åˆ›å»ºçš„`templates`æ–‡ä»¶å¤¹ä¸­ã€‚é€šè¿‡åœ¨`setting.py`ä¸­çš„'TEMPLATES'åˆ—è¡¨ä¸­çš„ä¸çŸ¥åå­—å…¸(å› ä¸ºå®ƒç¡®å®æ²¡å–åå•ŠğŸ˜”)de`DIRS`å…ƒç´ æ¥æŒ‡è·¯ã€‚

### è¿™ä¸‹å¯ä»¥å¾ˆå‰å®³äº†
è¿›è€Œè¿›è¡Œæ•°æ®åº“é…ç½®â€”â€” è¿˜åœ¨`setting.py`ä¸­çš„'DATABASES'æ¥æŒ‡è·¯ã€‚
ä½†Djangoè§„å®šè¦ä½¿ç”¨æ¨¡å‹ï¼Œå°±è¦åˆ›å»ºä¸€ä¸ªçˆ±æ€•æ€•`app`ï¼š
```shell
django-admin startapp TestModel ğŸ¦‘
```
å†å°†æ­¤çˆ±æ€•æ€•é¢†åˆ°`setting.py`ä¸­`NSTALLED_APPS`ä¸­ç­¾ä¸€ä¸‹åˆ°ã€‚
éšååœ¨`TestModel`ä¸‹çš„`models`ä¸­åˆ›å»ºç»§æ‰¿äº`django.db.models.Model`çš„æ•°æ®ç±»ï¼Œç„¶åä½¿ç”¨éš¶å±äº`models`ä¸‹çš„æ–¹æ³•æ¥åˆ¶å®šæ•°æ®ç±»å‹eg:
```python 
name = models.CharField(max_length=20)
```
> æ¯•ç«Ÿä¸èƒ½ç›´æ¥é€šè¿‡Pythonçš„è‡ªç”±ç±»å˜›â€¦ ç„¶åä¹Ÿè‚¯å®šä¸èƒ½é€šè¿‡pythonçš„åˆ¶å®šç±»å‹â€¦ æ¯•ç«Ÿpythonæ•°æ®ç±»å‹å’ŒMySQLå¤©å·®åœ°åˆ«ã€‚

<font color=a00070>æœ€å</font>
å†å›åˆ°å‘½ä»¤è¡Œä¸­ä½¿ç”¨
```shell
python manage.py migrate  		//åˆ›å»ºè¡¨ç»“æ„
python manage.py makemigrations	//é€šçŸ¥æ›´æ”¹
python manage.py testModel		// åˆ›å»ºè¡¨ç»“æ„ ğŸ˜²â“
æ­£å¼æ‹‰å…¥ç¼–åˆ¶ä¹‹åå°±èƒ½ç”¨äº†ã€‚
```
2019å¹´1æœˆ23æ—¥
```
- Change your models(in *models.py*)
- Run *python manage.py makemigrations* to create migration for those changes
- Run *python manage.py migrate* to apply those changes to the database
```
Of courses, If Null Run *python manage.py migrate* can make a models.py whitch has nothings.

#### é‚£ä¹ˆè¿™ä¸ªæ•°æ®åº“æ€ä¹ˆæ“ä½œå‘¢ï¼Ÿ
è‡ªç„¶æ˜¯åˆ°`urls.py`ä¸­æ·»åŠ ğŸ”—é“¾æ¥åˆ°æ–¹æ³•çš„è·¯
å†åˆ°å®¹å™¨é‡Œé¢æ·»åŠ t`estdb.py`æ¥è¯´æ˜æ–¹æ³•è¯¦ç»†ã€‚
##### å¢åˆ æ”¹æŸ¥
```python 
å®ä¾‹åŒ–ç±»
ç›´æ¥.save()å³ä¿å­˜
æœªå®ä¾‹åŒ–ç±»ï¼Œallæ ‡è¯†æŸ¥æ‰¾å…¨éƒ¨
.objects.filter(å¡«å†™åˆ é€‰æ¡ä»¶)
.objects.get(è·å–)
.order_by(æ’åºæ¡ä»¶)
æ›´æ”¹åˆ™æ˜¯å°†æŸ¥å‡ºæ¥çš„ä¸œè¥¿ç›´æ¥ä¿®æ”¹.update(ä¿®æ”¹ä¸œè¥¿)
å†.saveä¿å­˜
åˆ é™¤ä¾¿æ˜¯.delete()
``.
å·®ä¸å¤šäº†  ä¹‹åçš„è¯¦ç»†å†éšæƒ…å†µæ›´æ–°ã€‚

### é‚£ä¹ˆæ•°æ®åº“è¡¨å¤šäº†æ€ä¹ˆä¸€é”®ç”Ÿæˆå¯¹åº”ç±»å‘¢ï¼Ÿ
```shell
python manage.py inspectdb  //è‡ªåŠ¨ç”Ÿæˆmodelsæ¨¡å‹æ–‡ä»¶
python manage.py inspectdb > app/models.py      //å‡è®¾æœ‰äº†åä¸º'app'çš„çˆ±æ€•æ€•
// è€ä¸€å¥—
python manage.py makemigrations
python manage.py migrate
```
ä½†æ˜¯ä¼šå°†ä¹‹å‰`models.py`ä¸­çš„ä¸œè¥¿åˆ æ‰â€¦ è¿˜ä¼šæŠŠæ•°æ®åº“ä¸­çš„è¡¨åé‡å‘½åâ€¦ æŒ‰å®ƒçš„è§„çŸ©æ¥ç”Ÿæˆï¼Œå—¯â€¦å…¶å®ä¹ŸğŸ†—çš„ã€‚



## æˆ‘çˆ±Java 2018å¹´6æœˆ24æ—¥16ç‚¹40åˆ†çš„æˆ‘ç”±è¡·çš„å†™åˆ°
åœ¨`MySQL`ä¸­è¯»å–`blob`å­˜å‚¨çš„å­—æ®µæ—¶ï¼Œä½¿ç”¨`BinaryField`ä¸å¯ä½¿ç”¨å…¶é€†å‘ç”Ÿæˆçš„æ¨¡å‹è¯»å–æ–¹å¼ã€‚å½“ç„¶ï¼Œå¯¹ç…§è¡¨å¦‚ä¸‹
```md
            'AutoField': 'integer AUTO_INCREMENT',
            'BigAutoField': 'bigint AUTO_INCREMENT',
            'BinaryField': 'longblob',
            'BooleanField': 'bool',
            'CharField': 'varchar(%(max_length)s)',
            'CommaSeparatedIntegerField': 'varchar(%(max_length)s)',
            'DateField': 'date',
            'DateTimeField': 'datetime',
            'DecimalField': 'numeric(%(max_digits)s, %(decimal_places)s)',
            'DurationField': 'bigint',
            'FileField': 'varchar(%(max_length)s)',
            'FilePathField': 'varchar(%(max_length)s)',
            'FloatField': 'double precision',
            'IntegerField': 'integer',
            'BigIntegerField': 'bigint',
            'IPAddressField': 'char(15)',
            'GenericIPAddressField': 'char(39)',
            'NullBooleanField': 'bool',
            'OneToOneField': 'integer',
            'PositiveIntegerField': 'integer UNSIGNED',
            'PositiveSmallIntegerField': 'smallint UNSIGNED',
            'SlugField': 'varchar(%(max_length)s)',
            'SmallIntegerField': 'smallint',
            'TextField': 'longtext',
            'TimeField': 'time',
            'UUIDField': 'char(32)',

```
ä»¥ä¸Šæ˜¯ä¸€éƒ¨åˆ†ï¼Œå…·ä½“ç‚¹[è¿™é‡Œ](https://www.cnblogs.com/sun1994/p/8566988.html)
##### æ¨¡å‹å­—æ®µåç§°
åœ¨é€†å‘ç”Ÿæˆæ—¶ï¼Œæˆ‘é‡åˆ°è¿‡ä¸€æ¬¡å°†æ•°æ®åº“åä¿®æ”¹çš„å…ˆä¾‹ï¼Œä¸è¿‡åæ¥ä¼¼ä¹æ²¡æœ‰ä¿®æ”¹è¿‡ã€‚  ç„¶åå°±æ˜¯é©¼å³°å‘½åæ³•çš„å­—æ®µå¯èƒ½emmä¹Ÿæ˜¯å› ä¸ºæ­¤æˆ‘æ‰å¼€å§‹å†™è¿™äº›ä¿¡æ¯ï¼Œå°±æ˜¯ï¼Œé©¼å³°å‘½åæ³•çš„å­—æ®µå¯èƒ½åœ¨æ¨¡å‹å­—æ®µä¸­ä¸ºå…¨å°å†™ã€‚  è¿˜æœ‰å°±æ˜¯`Django`è«åå…¶å¦™çš„çš„ç¼–ç é”™è¯¯ï¼ŒçœŸçš„æ˜¯ä¸€åˆ†é’Ÿç¼–ç¨‹ï¼Œä¸€å°æ—¶ä¿®æ”¹ç¼–ç â€¦è€Œä¸”è°ƒè¯•èµ·æ¥çœŸçš„â€¦æˆ‘ç›®å‰çš„è°ƒè¯•æ–¹å¼æä¸ºåŸå§‹ï¼Œæ‰€ä»¥æ„Ÿè§‰çœŸçš„`ä¸æƒ³ç¼–ç¨‹`å—¯â€¦ 

#### Django è¿”å›æ–‡ä»¶ä¸‹è½½
```py
    def readFile(fn, buf_size=262144):  # å¤§æ–‡ä»¶ä¸‹è½½ï¼Œè®¾å®šç¼“å­˜å¤§å°
        f = open(fn, "rb")
        while True:  # å¾ªç¯è¯»å–
            c = f.read(buf_size)
            if c:
                yield c
            else:
                break
        f.close()
    response = HttpResponse(readFile(filePath), content_type='APPLICATION/OCTET-STREAM')  # è®¾å®šæ–‡ä»¶å¤´ï¼Œè¿™ç§è®¾å®šå¯ä»¥è®©ä»»æ„æ–‡ä»¶éƒ½èƒ½æ­£ç¡®ä¸‹è½½ï¼Œè€Œä¸”å·²çŸ¥æ–‡æœ¬æ–‡ä»¶ä¸æ˜¯æœ¬åœ°æ‰“å¼€
    fileName = 'haya'
    fileType = '.docx'
    response['Content-Disposition'] = 'attachment; filename=' + fileName.encode('utf-8') + fileType.encode('utf-8')  # è®¾å®šä¼ è¾“ç»™å®¢æˆ·ç«¯çš„æ–‡ä»¶åç§°
    response['Content-Length'] = os.path.getsize(filePath)  # ä¼ è¾“ç»™å®¢æˆ·ç«¯çš„æ–‡ä»¶å¤§å°
    return response	
```

#### Python Docxç¼–è¾‘
##### æ›¿æ¢
```docx
	åœ¨`.docx`æ–‡ä»¶ä¸­å°†éœ€è¦æ›¿æ¢çš„ä½ç½® ä½¿ç”¨å˜é‡ç«™ä½ï¼Œå†™æ³•{{ placheholdParaName }}
```
<font color=red>ä½¿ç”¨æ–‡ä»¶æ—¶ï¼Œåªèƒ½å†™åš`{{placheholdParaName}}`ä¸èƒ½æœ‰ç©ºæ ¼â€¦å¦å¤–`docx`ä½¿ç”¨`docx`ä¸­çš„`Document`è¯»å…¥å³å¯</font>
```py
    tpl = DocxTemplate(self.prjRootPath + '/word_template/' + "word_template.docx")
    sub1 = tpl.new_subdoc()
    sub1.subdocx = Document(temPath + 'sub1_bond.docx')
    subContext['sub1'] = sub1
```
```md
    ä¸Šè¿°ä¸­ï¼Œåªèƒ½å†™ä½œâ€¦â€¦éš¾é“æ˜¯å› ä¸ºä½¿ç”¨{{someThing}}è¿™ç§å†™æ³•è€Œéšè—äº†ï¼Ÿï¼ï¼
    é‚£ä¹ˆï¼Œä»Šåå†™å½©å¸¦æ³¨é‡Šå²‚ä¸æ˜¯ä¸éœ€è¦ä½¿ç”¨^_^è€Œç›´æ¥ä½¿ç”¨åŒèŠ±æ‹¬å·çš„å†™æ³•å°±èƒ½ç›´æ¥éšè—äº†ä¹ˆ(âŠ™oâŠ™ ) ã€€å‡„ã„
```
**Pyä¸­**ï¼š
```py
    from docxtpl import DocxTemplate, InlineImage
    from docx.shared import Mm, Inches, Pt
    doc = DocxTemplate("my_word_template.docx")
    myimage = InlineImage(doc,
	'C:/Users/GuPengxiang/Pictures/ha.jpg',width=Mm(20))
    context = { 'fundName' : u'è¿™é‡Œæ˜¯åŸºé‡‘åç§°', 'stars':u'äº”æ˜Ÿçº§ç‰ç’ƒå…­', '
	bench': u'å¯¹æ¯”åŸºé‡‘', 'income': u'12', 'bb': u'0.1%', 'image0' : myimage}
    doc.render(context)
    doc.save("generated_doc.docx")
```
#### ç”Ÿæˆechartså›¾è¡¨å›¾ç‰‡
##### ç¯å¢ƒ
```bash
# æ›´æ–°è½¯ä»¶åˆ—è¡¨ & æ›´æ–°è½¯ä»¶
sudo apt-get update    
sudo apt-get upgrade
# ä¸‹è½½åŒ…
pip install pyecharts-snapshot
wget https://bitbucket.org/ariya/phantomjs/downloads/phantomjs-2.5.0-beta-linux-ubuntu-xenial-x86_64.tar.gz
# è§£å‹
tar -xzvf phantomjs-2.5.0-beta-linux-ubuntu-xenial-x86_64.tar.gz
# è¿›å…¥è·¯å¾„
cd phantomjs-2.5.0-beta-ubuntu-xenial/bin
# èµ‹äºˆæƒé™
chmod +x phantomjs
# æŸ¥çœ‹ç‰ˆæœ¬å·
phantomjs -v  
# è‹¥æ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œå¦‚ 2.1.1 åˆ™ç”Ÿæ•ˆ
```
##### ç”Ÿæˆå›¾ç‰‡
```py
from pyecharts import Line, Pie, Grid
from pyecharts_snapshot.main import make_a_snapshot

attr = ["è¡¬è¡«", "ç¾Šæ¯›è¡«", "é›ªçººè¡«", "è£¤å­", "é«˜è·Ÿé‹", "è¢œå­"]
v1 = [5, 20, 36, 10, 10, 100]
v2 = [55, 60, 16, 20, 15, 80]
line = Line("æŠ˜çº¿å›¾ç¤ºä¾‹")
line.add("å•†å®¶A", attr, v1, mark_point=["average"])
line.add("å•†å®¶B", attr, v2, is_smooth=True, mark_line=["max", "average"])
line.render('test.html')

make_a_snapshot('test.html', 'test.pdf')
# æˆ–è€…ç›´æ¥ç”Ÿæˆ
line.render('test.png')
```
<font color= #f0aabb>åœ¨ç”Ÿæˆå›¾ç‰‡æ—¶ï¼Œæ’ä»¶åŒ…æ–‡ä»¶æºç ä¸­æœ‰Logï¼Œä½†å´æ˜¯printå‡ºæ¥çš„ï¼Œè€Œåœ¨éƒ¨ç½²ç¯å¢ƒä¸­ä¸å…è®¸å‡ºç°printï¼Œæ‰€ä»¥â€¦â€¦ å¾—åœ¨åŒ…æºç ä¸­å°†ä¹‹å±è”½</font>

##### è¿ç»­ç”Ÿæˆå›¾ç‰‡
ç”¨ä»¥ä¸Šæ–¹æ³•æ¥ç”Ÿæˆå›¾ç‰‡æ˜¯â€¦å¾ˆæ…¢çš„ğŸ¢â¬…è¿™ä¸ªé€Ÿåº¦ã€‚ä½†å¯ä»¥é€šè¿‡ä½¿ç”¨ä¸ºæ¸²æŸ“åˆ›å»ºä¸€ä¸ªé»˜è®¤é…ç½®ç¯å¢ƒæ¥é¿å…å¤šæ¬¡ç”Ÿæˆç¯å¢ƒé…ç½®ã€‚æ‰€ä»¥â€”â€”  å…·ä½“æ¥çœ‹`pyecharts`ä¸­çš„[é«˜çº§è¯´æ˜](http://pyecharts.org/#/zh-cn/prepare)ğŸ•¶
```py
    from pyecharts import Bar, Line
    from pyecharts.engine import create_default_environment
    
    bar = Bar("æˆ‘çš„ç¬¬ä¸€ä¸ªå›¾è¡¨", "è¿™é‡Œæ˜¯å‰¯æ ‡é¢˜")
    bar.add("æœè£…", ["è¡¬è¡«", "ç¾Šæ¯›è¡«", "é›ªçººè¡«", "è£¤å­", "é«˜è·Ÿé‹", "è¢œå­"], [5, 20, 36, 10, 75, 90])
    
    line = Line("æˆ‘çš„ç¬¬ä¸€ä¸ªå›¾è¡¨", "è¿™é‡Œæ˜¯å‰¯æ ‡é¢˜")
    line.add("æœè£…", ["è¡¬è¡«", "ç¾Šæ¯›è¡«", "é›ªçººè¡«", "è£¤å­", "é«˜è·Ÿé‹", "è¢œå­"], [5, 20, 36, 10, 75, 90])
    
    env = create_default_environment("html")
    # ä¸ºæ¸²æŸ“åˆ›å»ºä¸€ä¸ªé»˜è®¤é…ç½®ç¯å¢ƒ
    # create_default_environment(filet_ype)
    # file_type: 'html', 'svg', 'png', 'jpeg', 'gif' or 'pdf'
    
    env.render_chart_to_file(bar, path='bar.html')
    env.render_chart_to_file(line, path='line.html')
```

(*ï¿£â–½ï¿£*)o   å¦‚ä¸Š
### æ³¨æ„
    åœ¨ç”ŸæˆæŠ¥è¡¨æ—¶ï¼Œ ç”±äºé‡‡ç”¨çš„æ˜¯æµè§ˆå™¨æˆªå›¾çš„æ–¹å¼ï¼Œåœ¨ä½¿ç”¨`phantomjs`æ—¶ä¼šè‡ªåŠ¨åˆ¤æ–­å›¾ç‰‡æ˜¯å¦åŠ è½½å®Œæˆï¼ˆechartsåœ¨æ˜¾ç¤ºå›¾è¡¨ä¹‹å‰æ˜¯æœ‰ä¸€æ®µåŠ¨ç”»çš„â€¦â€¦ï¼‰ç„¶åå†`pyecharts`ä¸­å¹¶æ²¡æœ‰å…³é—­åŠ¨ç”»çš„æ¥å£ï¼Œè€Œechartsæ˜¯æœ‰çš„ã€‚ ä½†æ¯•ç«Ÿ`echarts`æ˜¯åœ¨åšç¿»è¯‘ï¼Œæ‰€ä»¥åªè¦åœ¨"Chart"åŸºç±»ä¸­ï¼Œå°†`animation=False`å°±å¯ä»¥äº†ã€‚ æˆ‘æ”¹çš„æ—¶å€™åœ¨`chart.py`æ–‡ä»¶çš„29è¡Œï¼Œdef __init__ä¸­ã€‚


## SSlåŠ å¯†ï¼Œhttpsé…ç½®
è™½ç„¶å°±é…ç½®è¿‡ä¹‹åæ˜¾å¾—æ“ä½œå¾ˆç®€å•ï¼Œè€Œä¸”ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œä½†å°±é…ç½®ä¹‹åˆç€å®è¿˜æ˜¯è´¹äº†ä¸€äº›åŠŸå¤«çš„ã€‚æˆ–è®¸æ˜¯å› ä¸ºå¤§è€Œå…¨çš„ä¸œè¥¿æ‡’å¾—çœ‹ï¼Œè€Œç½‘ä¸Šæœç´¢åˆ°çš„ç²˜è´´å¤åˆ¶ä¹‹è¯åˆå¤ªè¿‡ç‰‡é¢ï¼Œæˆ–è®¸å¤§å®¶å†™çš„æ—¶å€™ä¹Ÿå°±å½“ä½œæ—¥è®°æ¥å†™çš„ï¼Œæœ¬å°±æ²¡å‡†å¤‡è®©åˆ«äººå»å‚è€ƒã€‚æ‰€ä»¥å†åŠ ä¸Šæœç´¢çš„æ—¶å€™ä¿ºè¡¨è¿°è¯ä¸è¾¾æ„ï¼Œæ‰€ä»¥æ€»æ˜¯å¾ˆæ›²æŠ˜ï¼ˆå‘µï¼Œç”¨è°·æ­Œæœå¤–æ–‡ç½‘å°±ä¸å­˜åœ¨è¿™é—®é¢˜ï¼Œå‰é¢å°±è°¦è™šä¸€ä¸‹ğŸ™ƒï¼‰
### ä¹‹å‰å†™çš„æ–‡æ¡£
1 sslåŠ å¯†éƒ¨ç½²æ­¥éª¤è¯´æ˜æ–‡æ¡£
ä¸€ï¼ç”³è¯·sslè¯ä¹¦
1.ç”Ÿæˆcsræ–‡ä»¶ï¼Œå¯ä½¿ç”¨opensslå·¥å…·ç”Ÿæˆ
(1)ä¾‹:`openssl genrsa -des3 -out server.key 1024`	ç”ŸæˆæœåŠ¡å™¨keyæ–‡ä»¶;
(2)ä¾‹:`openssl req -new -key server.key -out server.csr`	ç”ŸæˆæœåŠ¡å™¨è¯ä¹¦è¯·æ±‚CSRæ–‡ä»¶;
æˆ–ä½¿ç”¨CSRæ–‡ä»¶ç”Ÿæˆå·¥å…·ç”Ÿæˆ(ä¾‹https://www.chinassl.net/ssltools/generator-csr.htmlï¼Œå¡«å†™ä¿¡æ¯åç‚¹å‡»ç”ŸæˆCSRæ–‡ä»¶å³å¯)
ï¼ˆCSRæ–‡ä»¶ä¸­åŒ…æ‹¬ç»„ç»‡éƒ¨é—¨ã€å›½å®¶åœ°åŒºã€ç®—æ³•ã€ä»¥åŠé‚®ç®±å’ŒåŸŸåç­‰ä¿¡æ¯ï¼‰
2.ç”³è¯·/è´­ä¹°HTTPSè¯ä¹¦ï¼Œ å¡«å†™ä¸ä¸Šè¿°ç›¸åŒçš„ä¿¡æ¯ï¼ŒéªŒè¯ç±»å‹é€‰æ‹©DNSï¼ŒCSRç”Ÿæˆé€‰æ‹©æä¾›CSR(å³æä¾›ç¬¬ä¸€æ­¥ç”Ÿæˆçš„CSRæ–‡ä»¶)ï¼ˆä¾‹ï¼šåœ¨é˜¿é‡Œäº‘æˆ–è…¾è®¯ç­‰åœ°ï¼Œæœ¬æ–‡æ¡£æ’°å†™æ—¶æ˜¯é€šè¿‡https://freessl.org/ å…è´¹ç”³è¯·è€Œæ¥ï¼ˆä¸€å¹´æœ‰æ•ˆæœŸï¼Œå•åŸŸåï¼Œï¼‰ï¼‰
äºŒã€éªŒè¯åŸŸåæ‰€å±å…³ç³»
1.åˆ°åŸŸåç®¡ç†æ§åˆ¶å°ä¸­é€‰æ‹©äº‘è§£æDNS, é€‰æ‹©åŸŸåï¼Œæ·»åŠ â€œè®°å½•â€ï¼Œè®°å½•ç±»å‹é€‰æ‹©â€˜TXTâ€™ï¼Œä¸»æœºè®°å½•åŠè®°å½•å€¼å¡«å†™è¯ä¹¦ç”³è¯·æ–¹æä¾›å†…å®¹ã€‚
2.ç­‰å¾…1åˆ†é’Ÿæˆ–10åˆ†é’Ÿåï¼Œç­‰å¾…ç”Ÿæ•ˆ
3.ç‚¹å‡»éªŒè¯
ä¸‰ã€è¯ä¹¦ä¸‹è½½
éªŒè¯é€šè¿‡åï¼Œä¸‹è½½ç½‘ç«™æä¾›è¯ä¹¦ï¼Œå«ï¼ˆCAè¯ä¹¦ã€æœåŠ¡å™¨è¯ä¹¦ã€æœåŠ¡å™¨ç§é’¥ï¼‰
å››ã€Apache2éƒ¨ç½²å¼€å¯SSLåŠ å¯†
æ›´æ”¹httpd.conf æ–‡ä»¶è®¾ç½®ï¼š
1.Listen {å†…ç½‘IP}:80
2.å¼€å¯models
(1)LoadModule ssl_module modules/mod_ssl.so
(2)LoadModule socache_shmcb_module modules/mod_socache_shmcb.so
(3)LoadModule rewrite_module modules/mod_rewrite.so
(4)ServerName {ä¸åŸŸåç›¸åŒ}ï¼ˆæœªæµ‹è¯•æ˜¯å¦å¿…é¡»ç›¸åŒï¼‰
3.httpè·³è½¬åˆ°https:
(1)RewriteEngine on
(2)RewriteCond %{SERVER_PORT} !^443$
(3)RewriteRule ^/?(.*)$ https://%{SERVER_NAME}/$1 [L,R]
æ›´æ”¹extra/httpd-ssl.conf æ–‡ä»¶è®¾ç½®
1.Listen 443
2.ServerName www.lejinrong.cn
3.ServerAdmin admin@lejinrong
4.SSLCertificateFile "c:/Apache24/conf/ssl/server.crt"
5.SSLCertificateKeyFile "c:/Apache24/conf/ssl/server.key"
ç¬¬å››æ­¥ä¸­crtæ–‡ä»¶æŒ‡å‘æœåŠ¡å™¨è¯ä¹¦æ–‡ä»¶ï¼Œ ç¬¬äº”æ­¥ä¸­.keyæ–‡ä»¶æŒ‡å‘ç§é’¥æ–‡ä»¶
(å…¶ä½™éƒ¨ç½²æ–¹æ¡ˆæˆ–è®¸æœ‰æ‰€ä¸åŒï¼Œä¼šä½¿ç”¨CAè¯ä¹¦)


1.1 æ³¨æ„ï¼š ç¡®ä¿æœåŠ¡å™¨ä¸­é˜²ç«å¢™å…¥ç«™è§„åˆ™ä¸­æ·»åŠ äº†80ç«¯å£å’Œ443ç«¯å£ã€‚




2 é™„ï¼š
2.1.1 æœ¬åœ°æµ‹è¯•æ–¹æ¡ˆï¼š

ç¯å¢ƒï¼šwamp Apache 2.4.9
å‰è¨€ï¼šwampå®‰è£…å¥½åï¼Œé»˜è®¤çš„åªæœ‰httpæœåŠ¡ï¼Œä»¥ä¸‹é…ç½®å¯ç”¨httpsæœåŠ¡
æ¡ä»¶ï¼šåœ¨Apacheå®‰è£…ç›®å½•ä¸‹éœ€è¦æœ‰ä¸€ä¸‹æ–‡ä»¶
Â Â Â Â Â Â Â Â  [Apacheå®‰è£…ç›®å½•]/modules/ mod_ssl.so
Â Â Â Â Â Â Â Â  [Apacheå®‰è£…ç›®å½•]/bin/ openssl.exe, libeay32.dll, ssleay32.dll
Â Â Â Â Â Â Â Â  [Apacheå®‰è£…ç›®å½•]/conf/ openssl.cnf
æ­¥éª¤ï¼š
ä¸€ã€ä¿®æ”¹é…ç½®æ–‡ä»¶httpd.confï¼Œå»æ‰ä¸‹é¢è¡Œé¦–çš„#ï¼ˆè½½å…¥sslæ¨¡å—å’Œå…¶ä»–é…ç½®æ–‡ä»¶ï¼‰
LoadModule socache_shmcb_module modules/mod_socache_shmcb.so
LoadModule ssl_module modules/mod_ssl.so
Include conf/extra/httpd-ssl.conf
äºŒã€è®¤è¯æ–‡ä»¶ç”Ÿæˆï¼ˆç”Ÿæˆè¯ä¹¦ç­¾å‘è¯·æ±‚ï¼‰
è¿›å…¥Apacheå®‰è£…ç›®å½•çš„binç›®å½•ä¸‹ï¼Œè¾“å…¥cmdï¼Œè¿›å…¥DOSçª—å£ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤
openssl req -new -out server.csr -config ../conf/openssl.cnf
å›è½¦åæç¤ºè¾“å…¥å¯†ç å’Œç¡®è®¤å¯†ç ï¼Œæœ¬æœºè¾“å…¥ï¼škeypasswd
åé¢ä¼šæç¤ºè¾“å…¥ä¸€ç³»åˆ—çš„å‚æ•°
......
Country Name (2 letter code) [AU]:Â ï¼ˆè¦æ±‚è¾“å…¥å›½å®¶ç¼©å†™ï¼Œåªèƒ½è¾“å…¥2ä¸ªå­—æ¯ï¼Œè¿™é‡Œè¾“å…¥cnï¼‰
State or Province Name (full name) [Some-State]:Â ï¼ˆè¦æ±‚è¾“å…¥å·åæˆ–çœåï¼Œè¿™é‡Œè¾“å…¥hubeiï¼‰
Locality Name (eg, city) []:Â ï¼ˆè¦æ±‚è¾“å…¥åŸå¸‚åï¼Œè¿™é‡Œè¾“å…¥wuhanï¼‰
Organization Name (eg, company) [Internet Widgits Pty Ltd]:Â ï¼ˆè¦æ±‚è¾“å…¥ç»„ç»‡åæˆ–å…¬å¸åï¼Œè¿™é‡Œè¾“å…¥ggï¼‰
Organizational Unit Name (eg, section) []:Â ï¼ˆè¦æ±‚è¾“å…¥éƒ¨é—¨åï¼Œè¿™é‡Œè¾“å…¥ggï¼‰
Common Name (eg, YOUR name) []:Â ï¼ˆè¦æ±‚è¾“å…¥æœåŠ¡å™¨åŸŸåæˆ–IPåœ°å€ï¼‰
Email Address []:Â ï¼ˆè¦æ±‚è¾“å…¥é‚®ä»¶åœ°å€ï¼‰
A challenge password[]:ï¼ˆè¦æ±‚è¾“å…¥å¯†ç ï¼‰
An optional company name[]ï¼ˆè¦æ±‚è¾“å…¥å…¬å¸åˆ«åï¼Œè¿™é‡Œè¾“å…¥ggsï¼‰
.....
ç”Ÿæˆç§é’¥ï¼Œåœ¨DOSçª—å£ä¸‹çš„Apacheçš„binç›®å½•ä¸‹è¾“å…¥å‘½ä»¤
openssl rsa -in privkey.pem -out server.key
ç„¶åè¦æ±‚è¾“å…¥ä¹‹å‰Â privkey.pemÂ çš„å¯†ç ï¼ˆkeypasswd)
åˆ›å»ºè¯ä¹¦ï¼Œè¾“å…¥å‘½ä»¤
openssl x509 -in server.csr -out server.crt -req -signkey server.key -days 8000
å›è½¦åï¼Œæ˜¾ç¤ºåˆ›å»ºæˆåŠŸï¼Œæœ‰æ•ˆæœŸä¸ºÂ 8000Â å¤©
å°†Apacheçš„binç›®å½•ä¸‹çš„server.csrã€server.crtã€server.keyæ‹·è´åˆ°Apacheå®‰è£…ç›®å½•ä¸‹çš„conf\sslï¼Œè‹¥æ²¡æœ‰sslæ–‡ä»¶åˆ™åˆ›å»º
æ‰“å¼€Apacheå®‰è£…ç›®å½•conf/extra/httpd-ssl.confæ–‡ä»¶ï¼Œè®¾ç½®SSLCertificateFileå’ŒSSLCertificateKeyFile
SSLCertificateFile "C:/apache2.4.9/conf/ssl/server.crt"
SSLCertificateKeyFile "C:/apache2.4.9/conf/ssl/server.key"
æœ€åé‡å¯ApacheæœåŠ¡ï¼ŒHTTPSæœåŠ¡çš„é»˜è®¤ç›‘å¬ç«¯å£ä¸º443
Â 
éšååœ¨æœ¬æœºä¸­å®‰è£…`server.crt`è‡³`æ”¶ä¿¡äººçš„æ ¹è¯ä¹¦é¢å‘æœºæ„`å³å¯ä¸å†æç¤ºè¯ä¹¦æ— æ•ˆ
æ³¨æ„ï¼šåœ¨é‡å¯Apacheæ—¶ï¼Œè‹¥ApacheæœåŠ¡å¯åŠ¨ä¸èµ·æ¥ï¼Œåˆ™åœ¨Apacheå®‰è£…ç›®å½•çš„binç›®å½•ä¸‹ï¼Œè¾“å…¥httpd â€“tï¼Œå¯ä»¥æ ¹æ®æç¤ºæ¥ä¿®æ”¹ä½ çš„é…ç½®æ–‡ä»¶
### é™„
ç°åœ¨æ˜¯2018å¹´8æœˆ25æ—¥16ç‚¹01åˆ† æ‰€ä»¥ä¸Šé¢å…¶å®æ˜¯ä¸€ä¸ªæœˆå‰å†™ç»™åˆ«äººçœ‹çš„æ–‡æ¡£ã€‚
åœ¨æˆ‘æœçš„æ—¶å€™ç”±äºå…ˆåœ¨æœ¬åœ°é…ç½®ï¼Œå°”åå†ç½‘ä¸Šæ‰¾CAå‘è¯ä¹¦ï¼Œè‡ªæˆ‘æ„Ÿè§‰è¿™ä¸ªæ­¥éª¤æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ã€‚å°±ä»Šå¤©åœ¨

#### Apacheé…ç½®åŒç½‘ç«™/https
çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯è¿™æ ·ï¼Œå…ˆåœ¨æœ¬åœ°é€šè¿‡ä¸åŒç«¯å£æµ‹è¯•ï¼Œç¡®å®šæ–¹æ¡ˆä¹‹åå†åœ¨æœåŠ¡å™¨ä¸Šé€šè¿‡`ServerName`è¿›è¡ŒåŒºåˆ†ã€‚
ä¹Ÿå°±æ˜¯å¯ç”¨`httpd-vhosts.conf`ä¹‹åï¼Œå†
```md
# Virtual Hosts
#
# Required modules: mod_log_config

# If you want to maintain multiple domains/hostnames on your
# machine you can setup VirtualHost containers for them. Most configurations
# use only name-based virtual hosts so the server doesn't need to worry about
# IP addresses. This is indicated by the asterisks in the directives below.
#
# Please see the documentation at 
# <URL:http://httpd.apache.org/docs/2.4/vhosts/>
# for further details before you try to setup virtual hosts.
#
# You may use the command line option '-S' to verify your virtual host
# configuration.

#
# VirtualHost example:
# Almost any Apache directive may go into a VirtualHost container.
# The first VirtualHost section is used for all requests that do not
# match a ServerName or ServerAlias in any <VirtualHost> block.
#
<VirtualHost 192.168.1.81:80>
    ServerName www.lejinrong.cn
    ServerAlias www.lejinrong.cn
    ServerAdmin www.lejinrong.cn
    #æŒ‡å®šmywebé¡¹ç›®çš„wsgi.pyé…ç½®æ–‡ä»¶è·¯å¾„  
    WSGIScriptAlias / D:/FundEvaluationSystem_svn1/Fund_Evaluation_System_V2/Fund_Evaluation_System/wsgi.py
    #é…ç½®é™æ€å˜é‡è·¯å¾„
    Alias /static/ D:/FundEvaluationSystem_svn1/Fund_Evaluation_System_V2/static/
    <Directory D:/FundEvaluationSystem_svn1/Fund_Evaluation_System_V2/static>  
        Allow from all
    </Directory>
    DocumentRoot "D:/FundEvaluationSystem_svn1/Fund_Evaluation_System_V2"
    <Directory "D:/FundEvaluationSystem_svn1/Fund_Evaluation_System_V2">  
        Options Indexes FollowSymLinks
        AllowOverride None
    </Directory>
    RewriteEngine on
    RewriteCond %{SERVER_PORT} !^400$
    RewriteRule ^/?(.*)$ https://%{SERVER_NAME}/$1 [L,R]
    ErrorLog "logs/dummy-host.example.com-error.log"
    CustomLog "logs/dummy-host.example.com-access.log" common
</VirtualHost>

<VirtualHost 192.168.1.81:8880>
    ServerName lejinrong.cn
    ServerAlias vip.lejinrong.cn
    ServerAdmin vip.lejinrong.cn
    #æŒ‡å®šmywebé¡¹ç›®çš„wsgi.pyé…ç½®æ–‡ä»¶è·¯å¾„  
    WSGIScriptAlias / D:/FundEvaluationSystem_svn1/Fund_Evaluation_System_V3/Fund_Evaluation_System/wsgi.py
    #é…ç½®é™æ€å˜é‡è·¯å¾„
    Alias /static/ D:/FundEvaluationSystem_svn1/Fund_Evaluation_System_V3/static/
    <Directory D:/FundEvaluationSystem_svn1/Fund_Evaluation_System_V3/static>
        Allow from all
    </Directory>
    DocumentRoot "D:/FundEvaluationSystem_svn1/Fund_Evaluation_System_V3"
    <Directory "D:/FundEvaluationSystem_svn1/Fund_Evaluation_System_V3">  
        Options Indexes FollowSymLinks
        AllowOverride None
    </Directory>
    ErrorLog "logs/dummy-host.example.com-error.log"
    CustomLog "logs/dummy-host.example.com-access.log" common
    RewriteEngine on
    RewriteCond %{SERVER_PORT} !^443$
    RewriteRule ^/?(.*)$ https://%{SERVER_NAME}/$1 [L,R]
</VirtualHost>
```
åŒç†ï¼Œåœ¨`httpd-ssl.conf`ä¸­ä¹Ÿæ˜¯é€šè¿‡é…ç½®ä¸åŒ`VirtualHost`è¿›è¡ŒåŒºåˆ†
```md
#
# This is the Apache server configuration file providing SSL support.
# It contains the configuration directives to instruct the server how to
# serve pages over an https connection. For detailed information about these 
# directives see <URL:http://httpd.apache.org/docs/2.4/mod/mod_ssl.html>
# 
# Do NOT simply read the instructions in here without understanding
# what they do.  They're here only as hints or reminders.  If you are unsure
# consult the online docs. You have been warned.  
#
# Required modules: mod_log_config, mod_setenvif, mod_ssl,
#          socache_shmcb_module (for default value of SSLSessionCache)

#
# Pseudo Random Number Generator (PRNG):
# Configure one or more sources to seed the PRNG of the SSL library.
# The seed data should be of good random quality.
# WARNING! On some platforms /dev/random blocks if not enough entropy
# is available. This means you then cannot use the /dev/random device
# because it would lead to very long connection times (as long as
# it requires to make more entropy available). But usually those
# platforms additionally provide a /dev/urandom device which doesn't
# block. So, if available, use this one instead. Read the mod_ssl User
# Manual for more details.
#
#SSLRandomSeed startup file:/dev/random  512
#SSLRandomSeed startup file:/dev/urandom 512
#SSLRandomSeed connect file:/dev/random  512
#SSLRandomSeed connect file:/dev/urandom 512


#
# When we also provide SSL we have to listen to the 
# standard HTTP port (see above) and to the HTTPS port
#
Listen 443
Listen 400
#ServerName www.lejinrong.cn
##
##  SSL Global Context
##
##  All SSL configuration in this context applies both to
##  the main server and all SSL-enabled virtual hosts.
##

#   SSL Cipher Suite:
#   List the ciphers that the client is permitted to negotiate,
#   and that httpd will negotiate as the client of a proxied server.
#   See the OpenSSL documentation for a complete list of ciphers, and
#   ensure these follow appropriate best practices for this deployment.
#   httpd 2.2.30, 2.4.13 and later force-disable aNULL, eNULL and EXP ciphers,
#   while OpenSSL disabled these by default in 0.9.8zf/1.0.0r/1.0.1m/1.0.2a.
SSLCipherSuite HIGH:MEDIUM:!MD5:!RC4:!3DES
SSLProxyCipherSuite HIGH:MEDIUM:!MD5:!RC4:!3DES

#  By the end of 2016, only TLSv1.2 ciphers should remain in use.
#  Older ciphers should be disallowed as soon as possible, while the
#  kRSA ciphers do not offer forward secrecy.  These changes inhibit
#  older clients (such as IE6 SP2 or IE8 on Windows XP, or other legacy
#  non-browser tooling) from successfully connecting.  
#
#  To restrict mod_ssl to use only TLSv1.2 ciphers, and disable
#  those protocols which do not support forward secrecy, replace
#  the SSLCipherSuite and SSLProxyCipherSuite directives above with
#  the following two directives, as soon as practical.
# SSLCipherSuite HIGH:MEDIUM:!SSLv3:!kRSA
# SSLProxyCipherSuite HIGH:MEDIUM:!SSLv3:!kRSA

#   User agents such as web browsers are not configured for the user's
#   own preference of either security or performance, therefore this
#   must be the prerogative of the web server administrator who manages
#   cpu load versus confidentiality, so enforce the server's cipher order.
SSLHonorCipherOrder on 

#   SSL Protocol support:
#   List the protocol versions which clients are allowed to connect with.
#   Disable SSLv3 by default (cf. RFC 7525 3.1.1).  TLSv1 (1.0) should be
#   disabled as quickly as practical.  By the end of 2016, only the TLSv1.2
#   protocol or later should remain in use.
SSLProtocol all -SSLv3
SSLProxyProtocol all -SSLv3

#   Pass Phrase Dialog:
#   Configure the pass phrase gathering process.
#   The filtering dialog program (`builtin' is an internal
#   terminal dialog) has to provide the pass phrase on stdout.
SSLPassPhraseDialog  builtin

#   Inter-Process Session Cache:
#   Configure the SSL Session Cache: First the mechanism 
#   to use and second the expiring timeout (in seconds).
#SSLSessionCache         "dbm:c:/Apache24/logs/ssl_scache"
SSLSessionCache        "shmcb:c:/Apache24/logs/ssl_scache(512000)"
SSLSessionCacheTimeout  300

#   OCSP Stapling (requires OpenSSL 0.9.8h or later)
#
#   This feature is disabled by default and requires at least
#   the two directives SSLUseStapling and SSLStaplingCache.
#   Refer to the documentation on OCSP Stapling in the SSL/TLS
#   How-To for more information.
#
#   Enable stapling for all SSL-enabled servers:
#SSLUseStapling On

#   Define a relatively small cache for OCSP Stapling using
#   the same mechanism that is used for the SSL session cache
#   above.  If stapling is used with more than a few certificates,
#   the size may need to be increased.  (AH01929 will be logged.)
#SSLStaplingCache "shmcb:c:/Apache24/logs/ssl_stapling(32768)"

#   Seconds before valid OCSP responses are expired from the cache
#SSLStaplingStandardCacheTimeout 3600

#   Seconds before invalid OCSP responses are expired from the cache
#SSLStaplingErrorCacheTimeout 600

##
## SSL Virtual Host Context
##

<VirtualHost 192.168.1.81:400>

#   General setup for the virtual host
DocumentRoot "c:/Apache24/htdocs"
ServerName www.lejinrong.cn
ServerAdmin admin@lejinrong.cn
ErrorLog "c:/Apache24/logs/error.log"
TransferLog "c:/Apache24/logs/access.log"

#   SSL Engine Switch:
#   Enable/Disable SSL for this virtual host.
SSLEngine on

#   Server Certificate:
#   Point SSLCertificateFile at a PEM encoded certificate.  If
#   the certificate is encrypted, then you will be prompted for a
#   pass phrase.  Note that a kill -HUP will prompt again.  Keep
#   in mind that if you have both an RSA and a DSA certificate you
#   can configure both in parallel (to also allow the use of DSA
#   ciphers, etc.)
#   Some ECC cipher suites (http://www.ietf.org/rfc/rfc4492.txt)
#   require an ECC certificate which can also be configured in
#   parallel.
SSLCertificateFile "c:/Apache24/conf/ssl/server.crt"
#SSLCertificateFile "c:/Apache24/conf/server-dsa.crt"
#SSLCertificateFile "c:/Apache24/conf/server-ecc.crt"

#   Server Private Key:
#   If the key is not combined with the certificate, use this
#   directive to point at the key file.  Keep in mind that if
#   you've both a RSA and a DSA private key you can configure
#   both in parallel (to also allow the use of DSA ciphers, etc.)
#   ECC keys, when in use, can also be configured in parallel
SSLCertificateKeyFile "c:/Apache24/conf/ssl/server.key"
#SSLCertificateKeyFile "c:/Apache24/conf/server-dsa.key"
#SSLCertificateKeyFile "c:/Apache24/conf/server-ecc.key"

#   Server Certificate Chain:
#   Point SSLCertificateChainFile at a file containing the
#   concatenation of PEM encoded CA certificates which form the
#   certificate chain for the server certificate. Alternatively
#   the referenced file can be the same as SSLCertificateFile
#   when the CA certificates are directly appended to the server
#   certificate for convenience.
#SSLCertificateChainFile "c:/Apache24/conf/server-ca.crt"

#   Certificate Authority (CA):
#   Set the CA certificate verification path where to find CA
#   certificates for client authentication or alternatively one
#   huge file containing all of them (file must be PEM encoded)
#   Note: Inside SSLCACertificatePath you need hash symlinks
#         to point to the certificate files. Use the provided
#         Makefile to update the hash symlinks after changes.
#SSLCACertificatePath "c:/Apache24/conf/ssl.crt"
#SSLCACertificateFile "c:/Apache24/conf/ssl.crt/ca-bundle.crt"

#   Certificate Revocation Lists (CRL):
#   Set the CA revocation path where to find CA CRLs for client
#   authentication or alternatively one huge file containing all
#   of them (file must be PEM encoded).
#   The CRL checking mode needs to be configured explicitly
#   through SSLCARevocationCheck (defaults to "none" otherwise).
#   Note: Inside SSLCARevocationPath you need hash symlinks
#         to point to the certificate files. Use the provided
#         Makefile to update the hash symlinks after changes.
#SSLCARevocationPath "c:/Apache24/conf/ssl.crl"
#SSLCARevocationFile "c:/Apache24/conf/ssl.crl/ca-bundle.crl"
#SSLCARevocationCheck chain

#   Client Authentication (Type):
#   Client certificate verification type and depth.  Types are
#   none, optional, require and optional_no_ca.  Depth is a
#   number which specifies how deeply to verify the certificate
#   issuer chain before deciding the certificate is not valid.
#SSLVerifyClient require
#SSLVerifyDepth  10

#   TLS-SRP mutual authentication:
#   Enable TLS-SRP and set the path to the OpenSSL SRP verifier
#   file (containing login information for SRP user accounts). 
#   Requires OpenSSL 1.0.1 or newer. See the mod_ssl FAQ for
#   detailed instructions on creating this file. Example:
#   "openssl srp -srpvfile c:/Apache24/conf/passwd.srpv -add username"
#SSLSRPVerifierFile "c:/Apache24/conf/passwd.srpv"

#   Access Control:
#   With SSLRequire you can do per-directory access control based
#   on arbitrary complex boolean expressions containing server
#   variable checks and other lookup directives.  The syntax is a
#   mixture between C and Perl.  See the mod_ssl documentation
#   for more details.
#<Location />
#SSLRequire (    %{SSL_CIPHER} !~ m/^(EXP|NULL)/ \
#            and %{SSL_CLIENT_S_DN_O} eq "Snake Oil, Ltd." \
#            and %{SSL_CLIENT_S_DN_OU} in {"Staff", "CA", "Dev"} \
#            and %{TIME_WDAY} >= 1 and %{TIME_WDAY} <= 5 \
#            and %{TIME_HOUR} >= 8 and %{TIME_HOUR} <= 20       ) \
#           or %{REMOTE_ADDR} =~ m/^192\.76\.162\.[0-9]+$/
#</Location>

#   SSL Engine Options:
#   Set various options for the SSL engine.
#   o FakeBasicAuth:
#     Translate the client X.509 into a Basic Authorisation.  This means that
#     the standard Auth/DBMAuth methods can be used for access control.  The
#     user name is the `one line' version of the client's X.509 certificate.
#     Note that no password is obtained from the user. Every entry in the user
#     file needs this password: `xxj31ZMTZzkVA'.
#   o ExportCertData:
#     This exports two additional environment variables: SSL_CLIENT_CERT and
#     SSL_SERVER_CERT. These contain the PEM-encoded certificates of the
#     server (always existing) and the client (only existing when client
#     authentication is used). This can be used to import the certificates
#     into CGI scripts.
#   o StdEnvVars:
#     This exports the standard SSL/TLS related `SSL_*' environment variables.
#     Per default this exportation is switched off for performance reasons,
#     because the extraction step is an expensive operation and is usually
#     useless for serving static content. So one usually enables the
#     exportation for CGI and SSI requests only.
#   o StrictRequire:
#     This denies access when "SSLRequireSSL" or "SSLRequire" applied even
#     under a "Satisfy any" situation, i.e. when it applies access is denied
#     and no other module can change it.
#   o OptRenegotiate:
#     This enables optimized SSL connection renegotiation handling when SSL
#     directives are used in per-directory context. 
#SSLOptions +FakeBasicAuth +ExportCertData +StrictRequire
<FilesMatch "\.(cgi|shtml|phtml|php)$">
    SSLOptions +StdEnvVars
</FilesMatch>
<Directory "c:/Apache24/cgi-bin">
    SSLOptions +StdEnvVars
</Directory>

#   SSL Protocol Adjustments:
#   The safe and default but still SSL/TLS standard compliant shutdown
#   approach is that mod_ssl sends the close notify alert but doesn't wait for
#   the close notify alert from client. When you need a different shutdown
#   approach you can use one of the following variables:
#   o ssl-unclean-shutdown:
#     This forces an unclean shutdown when the connection is closed, i.e. no
#     SSL close notify alert is sent or allowed to be received.  This violates
#     the SSL/TLS standard but is needed for some brain-dead browsers. Use
#     this when you receive I/O errors because of the standard approach where
#     mod_ssl sends the close notify alert.
#   o ssl-accurate-shutdown:
#     This forces an accurate shutdown when the connection is closed, i.e. a
#     SSL close notify alert is send and mod_ssl waits for the close notify
#     alert of the client. This is 100% SSL/TLS standard compliant, but in
#     practice often causes hanging connections with brain-dead browsers. Use
#     this only for browsers where you know that their SSL implementation
#     works correctly. 
#   Notice: Most problems of broken clients are also related to the HTTP
#   keep-alive facility, so you usually additionally want to disable
#   keep-alive for those clients, too. Use variable "nokeepalive" for this.
#   Similarly, one has to force some clients to use HTTP/1.0 to workaround
#   their broken HTTP/1.1 implementation. Use variables "downgrade-1.0" and
#   "force-response-1.0" for this.
BrowserMatch "MSIE [2-5]" \
         nokeepalive ssl-unclean-shutdown \
         downgrade-1.0 force-response-1.0

#   Per-Server Logging:
#   The home of a custom SSL log file. Use this when you want a
#   compact non-error SSL logfile on a virtual host basis.
CustomLog "c:/Apache24/logs/ssl_request.log" \
          "%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \"%r\" %b"
#æŒ‡å®šmywebé¡¹ç›®çš„wsgi.pyé…ç½®æ–‡ä»¶è·¯å¾„  
WSGIScriptAlias / D:/FundEvaluationSystem_svn1/Fund_Evaluation_System_V2/Fund_Evaluation_System/wsgi.py
#é…ç½®é™æ€å˜é‡è·¯å¾„
Alias /static/ D:/FundEvaluationSystem_svn1/Fund_Evaluation_System_V2/static/
<Directory D:/FundEvaluationSystem_svn1/Fund_Evaluation_System_V2/static>  
    Allow from all
</Directory>
DocumentRoot "D:/FundEvaluationSystem_svn1/Fund_Evaluation_System_V2"
<Directory "D:/FundEvaluationSystem_svn1/Fund_Evaluation_System_V2">  
    Options Indexes FollowSymLinks
    AllowOverride None
</Directory>

</VirtualHost>

<VirtualHost 192.168.1.81:443>
DocumentRoot "c:/Apache24/htdocs"
ServerName www.lejinrong.cn
ServerAdmin admin@lejinrong.cn
ErrorLog "c:/Apache24/logs/error.log"
TransferLog "c:/Apache24/logs/access.log"
SSLEngine on
SSLCertificateFile "c:/Apache24/conf/ssl/server.crt"
SSLCertificateKeyFile "c:/Apache24/conf/ssl/server.key"
<FilesMatch "\.(cgi|shtml|phtml|php)$">
    SSLOptions +StdEnvVars
</FilesMatch>
<Directory "c:/Apache24/cgi-bin">
    SSLOptions +StdEnvVars
</Directory>
BrowserMatch "MSIE [2-5]" \
         nokeepalive ssl-unclean-shutdown \
         downgrade-1.0 force-response-1.0
CustomLog "c:/Apache24/logs/ssl_request.log" \
          "%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \"%r\" %b"
WSGIScriptAlias / D:/FundEvaluationSystem_svn1/Fund_Evaluation_System_V3/Fund_Evaluation_System/wsgi.py
Alias /static/ D:/FundEvaluationSystem_svn1/Fund_Evaluation_System_V3/static/
<Directory D:/FundEvaluationSystem_svn1/Fund_Evaluation_System_V3/static>  
    Allow from all
</Directory>
DocumentRoot "D:/FundEvaluationSystem_svn1/Fund_Evaluation_System_V3"
<Directory "D:/FundEvaluationSystem_svn1/Fund_Evaluation_System_V3">  
    Options Indexes FollowSymLinks
    AllowOverride None
</Directory>
</VirtualHost>
```
ä½†å…¶å® éƒ½å†™äº†è·³è½¬ï¼Œæ‰€ä»¥åœ¨`httpd-vhosts.conf`æ–‡ä»¶ä¸­çš„é¡¹ç›®ä»¥åŠé™æ€èµ„æºè·¯å¾„æŒ‡å®šå°±ä¸ç”¨æŒ‡å®šäº†ï¼Œåªä¸è¿‡æˆ‘æ‡’å¾—åˆ â€¦
è¿˜æœ‰ä¸€ä¸ªå‘ç‚¹å°±æ˜¯ åŸæœ¬æœ‰ä¸€ä¸ªæŒ‡å®šé¡¹ç›®è·¯å¾„ä»¥åŠpythonç¯å¢ƒçš„è¯­å¥ï¼š
```md
#WSGIPythonPath "C:/Python27/Lib;C:/Python27/Lib/site-packages;C:/Python27/DLLs"
#WSGIPythonPath D:/FundEvaluationSystem_svn1
#WSGIPythonHome "C:/Python27"
```
æˆ‘ä¸çŸ¥é“æŒ‰ç…§ä¸Šä¸‹è¿™ä¸¤ç§ä¸ºä»€ä¹ˆä¼šå‡ºé—®é¢˜ï¼Œä½†ç½‘ä¸Šé‚£äº›äººä¸ä¼šã€‚ä½†ä¸­é—´é‚£ä¸ªæ˜¯ç”¨æ¥æŒ‡å‘é¡¹ç›®è·¯å¾„çš„ä¸€ä¸ªå–å·§çš„åŠæ³•ã€‚å“¦å› ä¸ºwsgiæˆ–è®¸æˆ‘å·²ç»åœ¨åˆ«å¤„åˆ¶è®¢è¿‡äº†ã€‚æ‰€ä»¥åªè¦åœ¨`wsgi.py`ä¸­å£°æ˜`sys.path.append('D:/FundEvaluationSystem_svn1/Fund_Evaluation_System_V2')`å°±å¯ä»¥å°†é¡¹ç›®åŒ…æ‹¬è¿›æ¥ï¼Œè€Œä¸éœ€è¦é€šè¿‡ ç¬¬äºŒå¥é‚£ä¸ªåˆ¶å®š`python`è·¯å¾„çš„ä¸œè¥¿ã€‚è€Œç”¨é‚£ä¸ªï¼Œä¼šå¯¼è‡´èµ„æºåªæœ‰å£°æ˜çš„é¡¹ç›®1ä¼šè¢«åŠ è½½ï¼Œè€Œé¡¹ç›®2çš„èµ„æºå°±ä¸ä¼šå£°æ˜ï¼Œè€Œå°†é‚£ä¸‰å¥è¯æ³¨é‡Šï¼Œåªè¦åˆ†åˆ«åœ¨'wsgi.py'ä¸­å£°æ˜é¡¹ç›®èµ„æºï¼Œè€Œåœ¨`.conf`æ–‡ä»¶ä¸­æŒ‡å‘'wsgi.py'æ–‡ä»¶å°±å¯ä»¥å¦‚æ•°åŠ è½½äº†ã€‚

(âŠ™ï¹âŠ™)è¯­åº  é€»è¾‘æ··ä¹±ä¹‹åä¸åŠ ç­äº†å†æ•´ç†å§~~ğŸ˜­


# å‰ç«¯ Vue
`vue`çš„ä½¿ç”¨æ–¹å¼å¯ä»¥é€šè¿‡`html`é¡µé¢ç›´æ¥å¼•ç”¨ï¼Œä¹Ÿèƒ½ç›´æ¥ç”¨`vue-cil`åˆ›å»ºé¡¹ç›®ã€‚ ç½‘ä¸Šäººç§°`vue`è„šæ‰‹æ¶ï¼Ÿæ™“ä¸å¤§å¾—
è€Œæˆ‘è¿™é‡Œè‡ªç„¶è¯´çš„å°±æ˜¯ `vue-cil`å³ é€šè¿‡`vue init webpack <prjName>`æ¥ç”Ÿæˆçš„é¡¹ç›®å–½

ç³»ç»Ÿçš„åˆ›å»ºä»¥åŠä»‹ç»ä¹‹åä½¿ç”¨å†ç†Ÿä¸€äº›å†å†™ï¼Œç°åœ¨å…ˆè®°ä¸€äº›é›¶æ•£çš„ä¸œè¥¿ã€‚ [^_^]2018å¹´9æœˆ18æ—¥ 21ç‚¹36åˆ†

### è·¯ç”±é…ç½®ç™»é™†è®¿é—®
```vue
    åœ¨`router/index.js`ä¸­ï¼š
    
    {
      path: '/',
      // é¦–é¡µ
      name: 'Main',
      component: Main,
      meta: {
        requireAuth: true,  // æ·»åŠ è¯¥å­—æ®µï¼Œè¡¨ç¤ºè¿›å…¥è¿™ä¸ªè·¯ç”±æ˜¯éœ€è¦ç™»å½•çš„
      }
    },
```
